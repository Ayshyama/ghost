<!DOCTYPE html>
<html lang="{{@site.locale}}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{meta_title}}</title>
    <link rel="stylesheet" href="{{asset "built/screen.css"}}">

    {{ghost_head}}
</head>

<body class="{{body_class}} is-head-{{#match @custom.navigation_layout "Logo on the left"}}left-logo{{else match @custom.navigation_layout "Logo in the middle"}}middle-logo{{else}}stacked{{/match}}{{#match @custom.title_font "=" "Elegant serif"}} has-serif-title{{/match}}{{#match @custom.body_font "=" "Elegant serif"}} has-serif-body{{/match}}">
<div class="gh-site">

    <header id="gh-head" class="gh-head gh-outer">
        <div class="gh-head-inner gh-inner">
            <div class="gh-head-brand">
                <div class="gh-head-brand-wrapper">
                    <a class="gh-head-logo" href="{{@site.url}}">
                        {{#if @site.logo}}
                            <img src="{{@site.logo}}" alt="{{@site.title}}">
                        {{else}}
                            {{@site.title}}
                        {{/if}}
                    </a>
                </div>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search>{{> "icons/search"}}</button>
                <button class="gh-burger" aria-label="Toggle menu"></button>
            </div>

            <nav class="gh-head-menu">
                {{navigation}}
                {{#unless @site.members_enabled}}
                    {{#match @custom.navigation_layout "Stacked"}}
                        <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search>{{> "icons/search"}}</button>
                    {{/match}}
                {{/unless}}
            </nav>

            <div class="gh-head-actions">
                {{#unless @site.members_enabled}}
                    {{^match @custom.navigation_layout "Stacked"}}
                        <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search>{{> "icons/search"}}</button>
                    {{/match}}
                {{else}}
                    <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search>{{> "icons/search"}}</button>
                    <div class="gh-head-members">
                        {{#unless @member}}
                            {{#unless @site.members_invite_only}}
                                <a class="gh-head-link" href="#/portal/signin" data-portal="signin">Sign in</a>
                                <a class="gh-head-btn gh-btn gh-primary-btn" href="#/portal/signup" data-portal="signup">{{> "icons/email"}} Subscribe</a>
                            {{else}}
                                <a class="gh-head-btn gh-btn gh-primary-btn" href="#/portal/signin" data-portal="signin">Sign in</a>
                            {{/unless}}
                        {{else}}
                            <a class="gh-head-btn gh-btn gh-primary-btn" href="#/portal/account" data-portal="account">Account</a>
                        {{/unless}}
                    </div>
                {{/unless}}
            </div>
        </div>
    </header>

    {{{body}}}

    {{^is "page"}}
    {{#if @site.members_enabled}}
    {{#unless @member}}
        <div class="gh-subscribe">
            <div class="gh-outer">
                <section class="gh-subscribe-inner">
                    <h3 class="gh-subscribe-title">Subscribe to {{@site.title}}</h3>
                    <div class="gh-subscribe-description">Don’t miss out on the latest issues. Sign up now to get access to the library of members-only issues.</div>
                    <a class="gh-subscribe-input" href="#/portal/signup" data-portal="signup">
                        <div class="gh-subscribe-input-text">
                            {{> icons/email}}
                            jamie@example.com
                        </div>
                        <div class="gh-subscribe-input-btn">Subscribe</div>
                    </a>
                </section>
            </div>
        </div>
    {{/unless}}
    {{/if}}
    {{/is}}

    <footer class="gh-foot{{#unless @site.secondary_navigation}} no-menu{{/unless}} gh-outer">
        <div class="gh-foot-inner gh-inner">
            <div class="gh-copyright">
                {{@site.title}} © {{date format="YYYY"}}
            </div>
            {{#if @site.secondary_navigation}}
                <nav class="gh-foot-menu">
                    {{navigation type="secondary"}}
                </nav>
            {{/if}}
            <div class="gh-powered-by">
                <a href="https://github.com/Ayshyama" target="_blank" rel="noopener">The Dev Brew</a>
            </div>
        </div>
    </footer>

</div>

{{#is "post, page"}}
    {{> "pswp"}}
{{/is}}

<script src="{{asset "built/main.min.js"}}"></script>
<script>

    (function() {
        'use strict';

        function hideBranding() {
            document.querySelectorAll('.gh-portal-powered').forEach(el => {
                el.style.display = 'none';
                el.style.visibility = 'hidden';
                el.style.opacity = '0';
            });

            function checkForBranding(root) {
                const selectors = 'div, span, p, footer, small, a';
                root.querySelectorAll(selectors).forEach(el => {
                    if (el.textContent && el.textContent.length < 100) {
                        const text = el.textContent.toLowerCase().trim();
                        if ((text.includes('powered') && text.includes('ghost')) ||
                            text === 'powered by ghost' ||
                            text.includes('ghost.org') ||
                            (text.includes('ghost') && text.length < 30)) {
                            el.style.display = 'none';
                        }
                    }
                });
            }

            checkForBranding(document);

            document.querySelectorAll('iframe').forEach(iframe => {
                try {
                    if (iframe.contentDocument && iframe.contentDocument.body) {
                        checkForBranding(iframe.contentDocument);
                        iframe.contentDocument.querySelectorAll('.gh-portal-powered').forEach(el => {
                            el.style.display = 'none';
                        });
                    }
                } catch (e) {}
            });
        }

        function injectCSS() {
            if (!document.getElementById('ghost-blocker')) {
                const style = document.createElement('style');
                style.id = 'ghost-blocker';
                style.textContent = `
                    .gh-portal-powered,
                    .gh-portal-powered *,
                    [class*="portal-powered"] {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                    }
                `;
                document.head.appendChild(style);
            }
        }

        injectCSS();
        hideBranding();

        setTimeout(hideBranding, 100);
        setTimeout(hideBranding, 300);
        setTimeout(hideBranding, 600);

        setInterval(hideBranding, 1000);

        new MutationObserver((mutations) => {
            mutations.forEach(mutation => {
                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                    hideBranding();
                }
            });
        }).observe(document.body, { childList: true, subtree: true });

        window.addEventListener('hashchange', hideBranding);
        document.addEventListener('click', () => setTimeout(hideBranding, 50));

    })();
</script>

<script>
    (function() {
    'use strict';

    function createCustomBranding() {
        const branding = document.createElement('div');
        branding.id = 'custom-ghost-branding';
        branding.innerHTML = `
            <a href="https://github.com/Ayshyama" target="_blank" rel="noopener" style="
                display: inline-flex;
                align-items: center;
                gap: 6px;
                padding: 6px 16px;
                background: rgba(255,255,255,0.95);
                color: #000;
                text-decoration: none;
                font-size: 12px;
                font-weight: 500;
                border-radius: 6px;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                position: fixed;
                bottom: 16px;
                left: 16px;
                z-index: 2147483647;
                transition: opacity 0.3s ease;
                border: 1px solid rgba(0,0,0,0.1);
            ">
                <svg width="16" height="16" viewBox="0 0 110 110" fill="currentColor">
                    <path d="M548.037,407.519c-1.642-.845-3.67-1.3-5.053-2.408-1.915-.572-3.227-1.749-4.813-2.647a32.5,32.5,0,0,1-7.461-7.22c-4.258-5.609-6.806-12.928-7.942-21.659a73.105,73.105,0,0,1,.241-14.2c.27-2.216.533-4.44.962-6.5.631-1.776.927-3.886,2.166-5.054,4.907-1.508,10.936-1.9,17.086-2.165,4.315-.278,8.928-.26,13.54-.243,1.83.007,3.66.013,5.473,0,.389.068.415-.226.722-.24,8.86.123,17.623.346,26.23.722,8.214.69,17.005.8,24.307,2.407,1.176,2.192,1.544,5.194,1.684,8.423.247.212.761.13,1.321.049a2.274,2.274,0,0,1,1.807.192,22.543,22.543,0,0,1,3.61.24c.547.5,1.594.491,2.166.962.748.215,1.121.806,1.925.963.813,1.032,1.8,1.889,2.647,2.888a24.515,24.515,0,0,1,1.925,14.44c-1.307,2.543-2.543,5.157-4.572,6.979-1.584,2.265-4.062,3.639-6.5,5.053-1.38.227-2.5.706-3.85.962a16.27,16.27,0,0,1-6.258-.723,6.521,6.521,0,0,0-1.445,2.409c-.7.5-.954,1.451-1.444,2.165-2.319,2.253-4.3,4.846-6.737,6.979-2.4,2.177-5.019,4.125-7.461,6.257-2.388,1.1-4.627,2.591-7.22,3.37-.246.072-.455-.039-.482.239-3.714.456-7.331,1.01-11.069,1.445q-.9.022-1.772.021A72.012,72.012,0,0,1,548.037,407.519Zm-16.6-55.831c-1.5,4.2-1.467,9.923-1.444,15.641a51.016,51.016,0,0,0,2.4,14.68c.188.054.281.2.242.482,1.006,2.042,2.448,3.648,3.369,5.775.614.91,1.113,1.936,1.684,2.889a15.9,15.9,0,0,1,1.925,2.885c1.6,1.368,3,2.939,4.573,4.333,1.042.162,1.293,1.113,2.407,1.2.3.9,1.789.617,2.165,1.444,2.627.664,4.794,1.785,7.7,2.165a3.257,3.257,0,0,0,1.925.482,4.777,4.777,0,0,0,2.165.481c1.331.354,2.916.454,4.333.723h8.9a12.293,12.293,0,0,1,3.794-.377,14.676,14.676,0,0,0,3.909-.346c2.7-.831,4.777-2.28,7.7-2.886,1.452-1.355,3.384-2.231,4.813-3.609a27.417,27.417,0,0,0,4.333-4.092,38.141,38.141,0,0,0,6.738-10.107c3.883-7.348,4.989-17.472,4.572-29.12a116.14,116.14,0,0,0-18.29-1.924c-3.079-.292-6.3-.44-9.625-.482-2.85-.358-7.339-.093-9.386-.481-13.677.04-27.265-.011-40.43-.482A.657.657,0,0,0,531.433,351.688Zm80.618,31.044a6.227,6.227,0,0,0,4.332-.24c1.424-.262,2.1-1.272,3.37-1.686,1.865-1.985,3.8-3.9,4.332-7.219a6.481,6.481,0,0,0-.723-4.09c-1.343-1.247-3.955-1.228-6.566-1.207-.542,0-1.085.008-1.616,0C614.757,373.726,613.27,378.093,612.051,382.731Zm-43.8,7.7c-.1-.072-.149-.431-.242-.481a4.286,4.286,0,0,1-1.684-1.205,11.6,11.6,0,0,1-3.128-2.4,63.437,63.437,0,0,1-6.258-5.053c-1.112-1.616-2.144-3.313-3.128-5.054a21.23,21.23,0,0,1-.721-6.256c.379-.423.32-1.283.481-1.926a15.5,15.5,0,0,1,2.406-2.646,5.254,5.254,0,0,0,1.925-.724c3.284-.316,5.382.554,7.7,1.2,1.422.742,2.2,2.134,3.85,2.647,2.87-1.3,5.215-3.127,8.662-3.85.39.068.414-.228.723-.239a17.469,17.469,0,0,1,5.536.48,10.1,10.1,0,0,1,3.85,4.332c.32,2.887-.66,4.477-1.2,6.5-2.129,3.165-5.624,4.964-7.942,7.943-1.041.321-1.509,1.218-2.407,1.684-.365.917-1.486,1.081-1.925,1.925-1.954.693-2.246,3.048-4.573,3.369a4.332,4.332,0,0,0-.76-.009c-.12.007-.235.013-.347.013A1.259,1.259,0,0,1,568.253,390.432Zm2.165-48.612a.942.942,0,0,0-.722-.24c-2.076-2.279.6-4.828.961-7.46a9.267,9.267,0,0,0-.481-3.612c-.534-.828-.662-2.064-1.444-2.646a28.461,28.461,0,0,0-1.2-2.888c-.573-.791-.616-2.111-1.2-2.888-.148-1.536-.292-3.075-.482-4.572.3-1.948.138-4.355.722-6.016.305-1.943,1.205-3.289,1.686-5.054.823-.618,1.035-1.854,1.924-2.406.517-.928,1.5-1.39,2.167-2.167.5.1.637-.166.962-.239h2.165a10.011,10.011,0,0,1-1.685,3.61c-.327,2.88-1.494,4.922-1.925,7.7V319.2c.877,4.5,3.47,7.277,4.572,11.55a33.3,33.3,0,0,1-.239,5.537,7.576,7.576,0,0,0-.962,2.406c-1.241,1.246-1.789,3.183-4.092,3.37q-.051,0-.1,0A.963.963,0,0,1,570.418,341.82Zm-10.828-4.814c-1.45-2.562-3.758-4.263-5.777-6.257a5.142,5.142,0,0,0-1.2-1.924c.021-.341.04-.682-.241-.722a13.36,13.36,0,0,1,4.813-11.792c.5.1.638-.167.963-.24.342-.022.682-.041.722.24.845-.212.25.623,0,.722-.126.355-.355.606-.482.962-.391.572-.541,1.384-.962,1.925a26.334,26.334,0,0,0,0,6.5c1.646,2.847,4.671,4.314,5.294,8.183a13.3,13.3,0,0,1-.481,4.572,4.165,4.165,0,0,1-2.646,1.2Zm27.914,2.649c-.482-.511.341-1.074.482-1.686a13.982,13.982,0,0,0,.722-1.683,22.845,22.845,0,0,0-.481-5.295c-.875-2.015-2.148-3.629-2.888-5.776-.193-2.679.5-4.472,2.407-5.054h.482a9.075,9.075,0,0,0,.961,2.648,57.277,57.277,0,0,1,3.851,5.774,2.161,2.161,0,0,0,.482,1.687,9.132,9.132,0,0,0,.241,2.646,5.822,5.822,0,0,1-5.313,6.97A2.032,2.032,0,0,1,587.5,339.655Z" transform="translate(-522.528 -301.631)"/>
                </svg>
                The Dev Brew
            </a>
        `;
        branding.style.display = 'none';

        const portalRoot = document.getElementById('ghost-portal-root');
        if (portalRoot) {
            portalRoot.appendChild(branding);
        } else {
            document.body.appendChild(branding);
        }

        return branding;
    }

    let customBranding = null;

    function showCustomBranding() {
        if (!customBranding) {
            customBranding = createCustomBranding();
        }
        customBranding.style.display = 'block';
    }

    function hideCustomBranding() {
        if (customBranding) {
            customBranding.style.display = 'none';
        }
    }

    function isPortalVisible() {
        const portalRoot = document.getElementById('ghost-portal-root');
        if (!portalRoot) return false;

        const portalContent = portalRoot.querySelector('.gh-portal-popup, [class*="portal"], iframe');
        if (portalContent) {
            const style = window.getComputedStyle(portalContent);
            return style.display !== 'none' && style.visibility !== 'hidden' && style.opacity !== '0';
        }

        return false;
    }

    function hideOriginalBranding() {
        document.querySelectorAll('.gh-portal-powered').forEach(el => {
            el.style.display = 'none !important';
        });

        document.querySelectorAll('iframe').forEach(iframe => {
            try {
                if (iframe.contentDocument && iframe.contentDocument.body) {
                    iframe.contentDocument.querySelectorAll('.gh-portal-powered').forEach(el => {
                        el.style.display = 'none !important';
                    });
                }
            } catch (e) {}
        });
    }

    function checkPortalState() {
        if (isPortalVisible()) {
            showCustomBranding();
            hideOriginalBranding();
        } else {
            hideCustomBranding();
        }
    }

    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.type === 'childList' || mutation.type === 'attributes') {
                clearTimeout(window.portalCheckTimeout);
                window.portalCheckTimeout = setTimeout(checkPortalState, 50);
            }
        });
    });

    observer.observe(document.body, {
        childList: true,
        subtree: true,
        attributes: true,
        attributeFilter: ['style', 'class']
    });

    window.addEventListener('hashchange', function() {
        setTimeout(checkPortalState, 200);
    });

    document.addEventListener('click', function() {
        setTimeout(checkPortalState, 100);
    });

    setTimeout(checkPortalState, 500);

})();

</script>

{{ghost_foot}}

</body>

</html>